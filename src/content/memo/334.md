---
tags: ['mongodb', 'ttl']
status: release
ctime: 2025-01-01
mtime: 2025-01-01
---

MongoDB TTL 인덱스 (자동 문서 삭제)

```javascript
// 데이터 삽입
db.collection.insertOne({
  name: 'Temporary',
  expireAt: new Date('2024-11-30T00:00:00Z'),
})

// TTL 인덱스 생성 (expireAt 시간 기준 삭제)
db.collection.createIndex({ expireAt: 1 }, { expireAfterSeconds: 0 })
```

- 60초 간격 백그라운드 체크로 삭제 (즉시 아님)
- `expireAt`은 ISODate 형식 필수
- 활용: 세션 만료, 캐시 관리, 임시 데이터

SQLite는 TTL 미지원 → 트리거 또는 외부 스케줄러로 구현
